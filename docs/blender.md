# Blender技巧笔记本

众所周知，建模软件Blender的使用是个循序渐进的过程，你会遇到很多问题，同时去查找这些问题的解决方案，每个解决方案又能更加增进你对Blender的了解。你对Blender的认知就是这样螺旋上升的。这个页面就是用来记录我在Blender中遇到问题，解决问题的过程中知晓的一些Blender技巧，以防止长时间不用而忘记。

之前在我的Blog里也有一篇Blender技巧记录型文章，不过那个文章主要是服务于Ballance制图的，这里记录的不局限于Ballance制图，而是面向更广泛的Blender创作的。因为给Ballance搞东西死路一条，我已经放弃了Ballance制图了，原文章的一些技巧会在这里重新组织并记录，原文章不再更新。

## Animation部分

国内教程来自：https://www.bilibili.com/video/BV11e411E7Sw  
全球版本，可以在国内版本报废的时候观看：https://www.youtube.com/@PierrickPicaut_P2DESIGN/videos

### 动画制作流程

先是Blocking阶段。在这个阶段不需要考虑任何的插值，插值模式更改为constant。只需要在Timeline上合适的位置打上关键帧，然后做好合适的物体变换即可。这个阶段主要关注时序和位置。
Splining阶段。将先前的常数插值改为正确的插值，通常是贝塞尔曲线。
然后是Polishing阶段，主要是精细调整。例如对动画播放起来一些违和感的部分做特殊化调整。动画不是一个线性的艺术，它依靠你的主观感受，你做的细微调整越多，动画就越逼真。

### Timeline

#### 快捷键

与其它Blender面板类似，在Animation中也支持许多类似功能的快捷键：

帧标头指的是Timeline最上面你选择的帧，用蓝色方框框起来的那个数字。也可以在Timeline右上角闹钟图标的左边的框里读到。

* `G`：和3D操作一致，是移动关键帧的意思
* `S`：和3D操作一致，可以缩放关键帧，缩放是相对于帧标头的。
* `R`：与3D操作不同，不是旋转，而是选择帧类型。实际上就是选择帧显示的图标。这个图标实际上没有任何程序上的意义，只是你看着爽不爽，按自己意愿随意换的，用于更方便直观地组织你的动画。
* `Numpad 0`：把帧标头放在视图中央。
* `Numpad .`：和3D操作一致，查看当前选定的关键帧。
* `P`：按下`P`后，在时间线上选择你想要观看预览的区间，然后动画就只会在这个区间内循环播放。`Alt + P`取消预览，动画就会从头播放到尾部。点击Timeline右上角的闹钟图标也可以进行切换，闹钟启用后，右侧的开始结束帧号就是预览的开始和结束。
* `Ctrl + Home`设置动画的开始，`Ctrl + End`设置动画的结束，设定的位置是当前的帧标头。也可以在Timeline右上角的闹钟旁边的数值里调整。当闹钟未启用的时候设置的是动画本身的长度，闹钟启用时设置的就是动画预览的开始和结束。
* `Ctrl + Shift + LMB 单击一个帧`：选择帧标头之后或之前的所有关键帧（包含帧标头那帧的），选取方式取决于你是点击帧标头后方的关键帧还是前方的，点击哪一方就选择哪一侧。
* `B`：按下后鼠标左键框选，选中框内的所有关键帧。这个框选似乎是以追加的方式进行的。
* `T`：设置插值模式，决定了当前关键帧到下一个关键帧是如何插值的。

#### 菜单

* `Timeline - View - Only Show Selected`：只显示和当前选中物体关联的动画的关键帧。
* `Timeline - Playback - Sync`：控制动画播放时的行为
    - `Play Every Frame`：每一帧都播放。如果播放时左上角变红，说明Blender没法按照渲染设置中的预定义帧率进行播放，这会造成播放动画的速度慢于最终渲染出来的成品。
    - `Frame Dropping`：丢弃一些帧，以试图让播放速率匹配渲染选项中设定的帧率。会丢失细节，但是可以让你清楚地知道你动画最终渲染出来是以什么样的速度播放的。

### Graph Editor

#### 快捷键

* `X`：选择左侧通道，点击此按键，删除对应通道。
* `Shift + RMB`：放置2D游标。2D游标会生成一条额外的水平蓝线，和帧标头的线条一样。二者交点就是游标位置。
* `Shift + E`：先选择关键帧，再按，打开Keyframe Extrapolation（关键帧外推）菜单。

#### 菜单

* `Graph Editor - Snap`：吸附，默认是`Frame`
    - `Frame`：按帧吸附
    - `Second`：按秒吸附。只会吸附到整数秒的帧上。
* `Graph Editor - Pivot Point`：旋转缩放时候的原点选择。与3D视图功能一致。

#### 控制柄

Graph Editor中的每个关键帧都有一个点和两个控制柄组成，控制柄可以有不同的类型，每种类型的行为也不相同。按`V`，或者在`Graph Editor - Key - Handle`菜单中，可以为当前选中关键帧设置控制柄类型。

* Auto Clamped：这是Blender关键帧的默认控制柄模式。在纵向移动它时，他会同时调整控制柄。如果移出了在纵轴上由上一个控制点和下一个控制点的设定的值域时，控制柄立刻变得水平。这也就意味着它总是创建一条平滑的曲线，从上一帧到下一帧，不会发生过冲。
* Automatic：与Auto Clamped类似，但他不会在移动时调整控制柄，这也就意味着它可以发生过冲行为。
* Aligned：当你在Auto Clamped中试图旋转或缩放控制柄时，会自动转为这个模式。Blender不再自动为你处理控制柄，由你自己设置控制柄。Blender只保证两侧的控制柄在同一直线上。
* Free：Aligned的更进一步版本，Blender也不再保证两侧控制柄在同一直线上。使用这个类型后，曲线的一阶导数可以不连续了。也就是在一个关键帧上可以实现类似y=abs(x)的那种突变。
* Vector：与Free类似，但是Blender会自动将控制柄指向上一个或下一个关键帧的位置。一旦你手动调整了控制柄，会立刻变成Free模式。



